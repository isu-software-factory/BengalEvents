<% if flash[:errors] %>
  <% flash[:errors].each do |e| %>
    <p><%= e %></p>
  <% end %>
<% end %>

<%= form_for(@occasion) do |f| %>
  <p>
    <%= f.label :name %>
    <%= f.text_field :name %>
  </p>
  <p>
    <%= f.label :description %>
    <%= f.text_field :description %>
  </p>
  <p>
    <%= f.label :start_date %>
    <%= f.date_field :start_date %>
  </p>
  <p>
    <%= f.label :end_date %>
    <%= f.date_field :end_date %>
  </p>
  <p>
    <%= f.fields_for :locations do |location| %>
      <%= location.label "Location" %>
      <%= location.text_field :name, rows: 3 %>
    <p>
      <%= location.fields_for :time_slots do |slots| %>
      <p>
        <%= slots.label :"Start Time" %>
        <%= slots.date_field :start_time %>
      </p>
      <p>
        <%= slots.label :"End Time" %>
        <%= slots.date_field :end_time %>
      </p>
    <% end %>
    </p>
  <% end %>
  </p>
  <p>

  </p>

  <%= f.submit "Create", class: "button" %>
<% end %>